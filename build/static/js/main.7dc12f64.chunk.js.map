{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/PersonsRenderer.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","_ref","filter","changeHandler","react_default","a","createElement","value","onChange","PersonForm","props","onSubmit","addPerson","newName","handleNameInputChange","newNumber","handleNumberInputChange","type","PersonsRenderer","persons","removeHandler","person","name","toLowerCase","includes","map","key","number","onClick","baseUrl","services_persons","axios","get","then","response","data","newObject","post","id","put","concat","delete","Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","newFilter","setNewFilter","_useState9","_useState10","notifMessage","setNotifMessage","_useState11","_useState12","notifValue","setNotifValue","useEffect","personService","catch","error","createNotification","setTimeout","components_Notification","components_Filter","event","target","components_PersonForm","preventDefault","nameObject","found","forEach","window","confirm","clone","objectSpread","updatedPerson","console","log","addedPerson","components_PersonsRenderer","p","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.7dc12f64.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({ filter, changeHandler }) => {\n  return (\n    <div>\n      Rajaa näytettäviä\n      <input\n        value={filter}\n        onChange={changeHandler}\n      />\n    </div>\n  )\n  \n}\n\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = (props) => {\n  return (\n    <form onSubmit={props.addPerson}>\n      <div>\n        Nimi: \n        <input \n          value={props.newName} \n          onChange={props.handleNameInputChange} \n        />\n      </div>\n      <div>\n        Numero: \n        <input \n          value={props.newNumber} \n          onChange={props.handleNumberInputChange}\n        />\n      </div>\n      <div>\n        <button type=\"submit\">Lisää</button>\n      </div>\n    </form>\n  )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst PersonsRenderer = ({ persons, filter, removeHandler }) => {\n  return (\n    <ul>\n    {persons\n      .filter(person => \n        person.name.toLowerCase().includes(filter.toLowerCase()))\n      .map(person => \n        <li key={person.name}>\n          {person.name} {person.number} \n          <button onClick={() => removeHandler(person)}>Poista</button>\n        </li>\n    )}\n    </ul>\n  )\n\n}\n  \n\n\nexport default PersonsRenderer","import axios from 'axios'\nconst baseUrl = 'http://localhost/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst destroy = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nexport default {getAll, create, update, destroy}","import React from 'react'\n\nconst Notification = ({ message, value }) => {\n  if (message == null) {\n    return null\n  }\n\n  const warningStyle = {\n    color: 'red',\n    background: 'lightgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n  }\n\n  const notifStyle = {\n    color: 'green',\n    background: 'lightgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n  }\n\n\n  return (\n    <div style={value ? notifStyle : warningStyle}>\n      {message}\n    </div>\n  )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport PersonsRenderer from './components/PersonsRenderer'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [ notifMessage, setNotifMessage ] = useState(null)\n  const [ notifValue, setNotifValue ] = useState(false)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(persons => {\n        setPersons(persons)\n      })\n      .catch(error => {\n        createNotification('Henkilöiden hakeminen epäonnistui', false)\n      })\n  }, [])\n\n  const createNotification = (message, value) => {\n    value === true ? setNotifValue(true) : setNotifValue(false)\n    setNotifMessage(message)\n    setTimeout(() => {\n      setNotifMessage(null)\n    }, 5000)\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    const nameObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    let found = false\n\n    persons.forEach(person => {\n      if (person.name === newName) {\n        found = true\n        if (window.confirm(`${person.name} on jo luettelossa, korvataanko vanha numero uudella?`)) {\n          const clone = {...person, number: newNumber}\n          personService\n            .update(person.id, clone)\n            .then(updatedPerson => {\n              setPersons(persons.map(person =>\n                person.id === updatedPerson.id \n                ? updatedPerson\n                : person\n              ))\n              console.log('lisätty')\n              createNotification(\n                `Henkilön ${person.name} numero päivitetty!`, \n                true\n              )\n            })\n            .catch(error => {\n              console.log(error)\n              createNotification(\n                `Henkilö ${person.name} oli jo poistettu`, \n                false\n              )\n            })\n        }  \n      }\n    })\n\n    if (!found) {\n      personService\n        .create(nameObject)\n        .then(addedPerson => {\n          setPersons(persons.concat(addedPerson))\n          setNewName('')\n          setNewNumber('')\n          createNotification(\n            `Henkilö ${addedPerson.name} lisätty`,\n            true\n          )\n        })\n        .catch(error => {\n          createNotification(\n            `Henkilön lisääminen epäonnistui`, \n            false\n          )\n        })\n    }\n  }\n\n  const handleNameInputChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberInputChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterInputChange = (event) => {\n    setNewFilter(event.target.value)\n  }\n\n  const handleRemoveClick = (person) => {\n    if (window.confirm(`Poistetaanko ${person.name}`)) {\n      personService\n        .destroy(person.id)\n        .then(() => {\n          setPersons(persons.filter(p => p.id !== person.id))\n          createNotification(\n            `Henkilö ${person.name} poistettu!`, \n            true\n          )\n        })\n        .catch(error => {\n          createNotification(\n            `Virhe poistettaessa henkilöä ${person.name}`, \n            false\n          )\n        })\n    }\n  }\n\n  return (\n    <div>\n      <h2>Puhelinluettelo</h2>\n      <Notification message={notifMessage} value={notifValue} />\n      <Filter \n        filter={newFilter} \n        changeHandler={handleFilterInputChange} \n      />\n\n      <h3>Lisää uusi</h3>\n      <PersonForm \n        addPerson={addPerson}\n        newName={newName}\n        newNumber={newNumber}\n        handleNameInputChange={handleNameInputChange}\n        handleNumberInputChange={handleNumberInputChange}\n      />\n\n      <h3>Luettelo</h3>\n      <PersonsRenderer \n        persons={persons}\n        filter={newFilter}\n        removeHandler={handleRemoveClick}\n      />\n    </div>\n  )\n\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}